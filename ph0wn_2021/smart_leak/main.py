# b01010100 busApplicationBus_0 0x54
# b01101000 busApplicationBus_0 0x68
# b01100101 busApplicationBus_0 0x65
# b01010000 busApplicationBus_0 0x50

# b01100101 busApplicationBus_0 0x65
# b01110010 busApplicationBus_0 0x72
# b01100110 busApplicationBus_0 0x66
# b01100101 busApplicationBus_0 0x65

# b01100011 busApplicationBus_0 0x63
# b01110100 busApplicationBus_0 0x74
# b01010010 busApplicationBus_0 0x52
# b01101111 busApplicationBus_0 0x6F

# b01101111 busApplicationBus_0 0x6F
# b01101011 busApplicationBus_0 0x6B
# b01101001 busApplicationBus_0 0x69
# b01100101 busApplicationBus_0 0x65

from Crypto.Cipher import AES
import binascii

def bitstring_to_bytes(s):
    v = int(s, 2)
    b = bytearray()
    while v:
        b.append(v & 0xff)
        v >>= 8
    return bytes(b[::-1])


cipher = AES.new(bytes("ThePerfectRookie", 'utf-8'), AES.MODE_ECB)

# enc_bin = int('100100000001111000011111010100000101010101110000111101110010011111000110110011100101110110010001100000111011110100101001011011000101001010101111110111111111101010110100101010000011101011110111001110100101001111111010010101010001110000000001', 2)
# print('100100000001111000011111010100000101010101110000111101110010011111000110110011100101110110010001100000111011110100101001011011000101001010101111110111111111101010110100101010000011101011110111001110100101001111111010010101010001110000000001'.encode())
print(bitstring_to_bytes("1101001001001110100100000001111000011111010100000101010101110000111101110010011111000110110011100101110110010001100000111011110100101001011011000101001010101111110111111111101010110100101010000011101011110111001110100101001111111010010101010001110000000001"))

msg = cipher.decrypt(bitstring_to_bytes("1101001001001110100100000001111000011111010100000101010101110000111101110010011111000110110011100101110110010001100000111011110100101001011011000101001010101111110111111111101010110100101010000011101011110111001110100101001111111010010101010001110000000001"))

print(type(msg))
print(msg.decode('utf-8'))
# print(type(msg))
# print(binascii.hexlify(msg))
